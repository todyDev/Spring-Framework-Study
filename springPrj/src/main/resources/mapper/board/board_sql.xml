<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">

    <select id="selectBoardList" resultType="hashmap" parameterType="hashmap">
        <![CDATA[
			SELECT
				IDX,
				TITLE,
				HIT_CNT,
				IF(
					DATE_FORMAT(CREA_DATE, '%Y%m%d') < DATE_FORMAT(now(),'%Y%m%d'),
					DATE_FORMAT(CREA_DATE, '%Y.%m.%d'),
					DATE_FORMAT(CREA_DATE, '%H:%i')
				) as CREA_DATE,
				CREA_ID
			FROM
				board
			WHERE
				DEL_CHK = 'N'
			ORDER BY IDX DESC
        ]]>
    </select>
    
    <insert id="insertBoard" parameterType="hashmap">
        <![CDATA[
            INSERT INTO board
            (
                TITLE,
                CONTENTS,
                HIT_CNT,
                DEL_CHK,
                CREA_DATE,
                CREA_ID
            )
            VALUES
            (
                #{ TITLE},
                #{ CONTENTS},
                0,
                'N',
                SYSDATE(),
                #{ CREA_ID}
            )
        ]]>
    </insert>
 
</mapper>